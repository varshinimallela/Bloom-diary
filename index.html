<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloom Diary</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --soft-pink: #FF8FAB;
            --lavender: #E5CFF7;
            --baby-blue: #AEE1F9;
            --cream: #FFF1F5;
            --mint-green: #A8D8B9;
            --deep-plum: #2D1E2F;
            --light-plum: #5D4E5F;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--cream);
            transition: background-color 0.5s ease;
            overflow-x: hidden;
        }

        body.dark-mode {
            background-color: var(--deep-plum);
            color: var(--cream);
        }

        .app-title {
            font-family: 'Dancing Script', cursive;
        }

        .diary-entry {
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        body.dark-mode .diary-entry {
            background-color: var(--light-plum);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .date-circle {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .date-circle::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23FF8FAB' d='M50 0C22.4 0 0 22.4 0 50s22.4 50 50 50 50-22.4 50-50S77.6 0 50 0zm0 80c-16.6 0-30-13.4-30-30s13.4-30 30-30 30 13.4 30 30-13.4 30-30 30z'/%3E%3C/svg%3E");
            background-size: contain;
            opacity: 0.2;
            z-index: -1;
        }

        .date-circle:hover {
            transform: scale(1.1);
        }

        .date-circle.selected {
            background-color: var(--soft-pink);
            color: white;
            transform: scale(1.1);
        }

        .date-circle.selected::before {
            opacity: 0.5;
        }

        .mood-emoji {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .mood-emoji:hover {
            transform: scale(1.2);
        }

        .mood-emoji.selected {
            transform: scale(1.2);
            filter: drop-shadow(0 0 5px rgba(255, 143, 171, 0.8));
        }

        .save-btn {
            background-color: var(--soft-pink);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .save-btn:hover {
            transform: scale(1.05);
            background-color: #ff7a9a;
        }

        .save-btn:active {
            transform: scale(0.95);
        }

        .save-btn::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            transition: transform 0.5s, opacity 0.5s;
        }

        .save-btn:active::after {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            transition: 0s;
        }

        .theme-toggle {
            width: 60px;
            height: 30px;
            background-color: var(--lavender);
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        body.dark-mode .theme-toggle {
            background-color: var(--light-plum);
        }

        .toggle-circle {
            width: 26px;
            height: 26px;
            background-color: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        body.dark-mode .toggle-circle {
            left: 32px;
            background-color: var(--deep-plum);
        }

        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--soft-pink);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed;
            bottom: 20px;
            right: 20px;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .floating-btn:hover {
            transform: scale(1.1) rotate(10deg);
        }

        .floating-btn:active {
            transform: scale(0.9);
        }

        /* Falling petals animation */
        .petals-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .petal {
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.6;
            animation: falling linear infinite;
        }

        @keyframes falling {
            0% {
                transform: translateY(-5%) rotate(0deg);
            }
            100% {
                transform: translateY(105%) rotate(360deg);
            }
        }

        /* Floral border for diary entry */
        .floral-border {
            position: relative;
        }

        .floral-border::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='20' viewBox='0 0 100 20'%3E%3Cpath fill='%23FF8FAB' d='M0,10 C30,20 70,0 100,10 L100,0 L0,0 Z'/%3E%3C/svg%3E");
            background-size: 100px 20px;
            background-repeat: repeat-x;
        }

        .floral-border::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='20' viewBox='0 0 100 20'%3E%3Cpath fill='%23FF8FAB' d='M0,10 C30,0 70,20 100,10 L100,20 L0,20 Z'/%3E%3C/svg%3E");
            background-size: 100px 20px;
            background-repeat: repeat-x;
        }

        body.dark-mode .floral-border::before,
        body.dark-mode .floral-border::after {
            filter: hue-rotate(180deg) brightness(0.7);
        }

        /* Page transition animation */
        .page-container {
            transition: transform 0.5s ease;
        }

        .page-container.slide-left {
            transform: translateX(-100%);
        }

        .page-container.slide-right {
            transform: translateX(100%);
        }

        /* Notebook lines */
        .notebook-lines {
            background-image: linear-gradient(transparent 29px, #E5CFF7 30px);
            background-size: 100% 30px;
            line-height: 30px;
        }

        body.dark-mode .notebook-lines {
            background-image: linear-gradient(transparent 29px, #5D4E5F 30px);
        }

        /* Calendar styles */
        .calendar-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        /* Year in Bloom view */
        .bloom-year {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .bloom-month {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            padding: 10px;
            text-align: center;
            transition: all 0.3s ease;
        }

        body.dark-mode .bloom-month {
            background-color: rgba(93, 78, 95, 0.7);
        }

        .bloom-month:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Photo upload button */
        .photo-upload {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--lavender);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .photo-upload:hover {
            transform: scale(1.1);
            background-color: var(--soft-pink);
        }

        body.dark-mode .photo-upload {
            background-color: var(--light-plum);
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(229, 207, 247, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--soft-pink);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #ff7a9a;
        }

        body.dark-mode ::-webkit-scrollbar-track {
            background: rgba(93, 78, 95, 0.3);
        }

        body.dark-mode ::-webkit-scrollbar-thumb {
            background: var(--light-plum);
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Falling petals animation -->
    <div class="petals-container" id="petalsContainer"></div>

    <!-- Main container -->
    <div class="page-container" id="pageContainer">
        <!-- Home/Dashboard Screen -->
        <div class="px-4 py-6 min-h-screen flex flex-col" id="homePage">
            <!-- Header with app name and theme toggle -->
            <header class="flex justify-between items-center mb-6">
                <h1 class="app-title text-4xl font-bold text-pink-500 dark:text-pink-300">Bloom Diary</h1>
                <div class="theme-toggle" id="themeToggle">
                    <div class="toggle-circle" id="toggleCircle">🌞</div>
                </div>
            </header>

            <!-- Daily quote -->
            <div class="text-center mb-8">
                <p class="italic text-lg text-gray-600 dark:text-gray-300">"Let your thoughts bloom 🌸"</p>
            </div>

            <!-- Year view with all months -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-purple-600 dark:text-purple-300 mb-4">My Garden of Memories</h2>
                <div class="grid grid-cols-3 gap-4">
                    <div class="month-card" onclick="showMonthView(0)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">January</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">❄️</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 60%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(1)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">February</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">💕</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 75%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(2)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">March</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🌱</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 80%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(3)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">April</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🌷</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 90%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(4)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">May</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🌸</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 40%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(5)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">June</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🌻</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(6)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">July</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🦋</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(7)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">August</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🌿</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(8)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">September</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🍃</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(9)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">October</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🍁</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(10)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">November</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">🍂</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="month-card" onclick="showMonthView(11)">
                        <div class="diary-entry p-4 text-center transform transition-all hover:scale-105 hover:shadow-lg">
                            <h3 class="font-medium mb-2">December</h3>
                            <div class="flex justify-center">
                                <span class="text-3xl">✨</span>
                            </div>
                            <div class="flower-progress mt-2">
                                <div class="h-1 w-full bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-pink-400 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent entries preview -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-purple-600 dark:text-purple-300 mb-4">Recent Blooms</h2>
                <div class="space-y-4">
                    <div class="diary-entry p-4" onclick="showDiaryEntry('2023-05-15')">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium">May 15, 2023</span>
                            <span class="text-xl">🌸</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 line-clamp-2">Today I went for a walk in the park and saw the most beautiful butterflies...</p>
                    </div>
                    
                    <div class="diary-entry p-4" onclick="showDiaryEntry('2023-05-14')">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium">May 14, 2023</span>
                            <span class="text-xl">✨</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 line-clamp-2">I finished reading that book I've been working on for weeks! It was so inspiring...</p>
                    </div>
                </div>
            </div>

            <!-- Floating new entry button -->
            <button class="floating-btn" id="newEntryBtn">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
            </button>
        </div>

        <!-- Diary Entry Page -->
        <div class="px-4 py-6 min-h-screen flex flex-col hidden" id="entryPage">
            <!-- Header with back button and date -->
            <header class="flex justify-between items-center mb-6">
                <button class="w-10 h-10 rounded-full bg-lavender flex items-center justify-center" id="backToHomeBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h2 class="text-xl font-semibold" id="entryDate">May 16, 2023</h2>
                <div class="w-10 h-10"></div> <!-- Empty div for flex spacing -->
            </header>

            <!-- Mood tracker -->
            <div class="mb-6">
                <h3 class="text-lg font-medium text-purple-600 dark:text-purple-300 mb-3">How are you blooming today?</h3>
                <div class="grid grid-cols-5 gap-2">
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="radiant">
                        <span class="text-3xl mb-1">🌸</span>
                        <span class="text-xs text-center text-gray-800">Radiant</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="peaceful">
                        <span class="text-3xl mb-1">🦋</span>
                        <span class="text-xs text-center text-gray-800">Peaceful</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="inspired">
                        <span class="text-3xl mb-1">✨</span>
                        <span class="text-xs text-center text-gray-800">Inspired</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="loved">
                        <span class="text-3xl mb-1">💕</span>
                        <span class="text-xs text-center text-gray-800">Loved</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="grateful">
                        <span class="text-3xl mb-1">🙏</span>
                        <span class="text-xs text-center text-gray-800">Grateful</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="dreamy">
                        <span class="text-3xl mb-1">🌙</span>
                        <span class="text-xs text-center text-gray-800">Dreamy</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="cozy">
                        <span class="text-3xl mb-1">☕</span>
                        <span class="text-xs text-center text-gray-800">Cozy</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="reflective">
                        <span class="text-3xl mb-1">🌊</span>
                        <span class="text-xs text-center text-gray-800">Reflective</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="melancholy">
                        <span class="text-3xl mb-1">🌧️</span>
                        <span class="text-xs text-center text-gray-800">Wistful</span>
                    </div>
                    <div class="mood-emoji p-3 rounded-lg bg-white border border-pink-200 flex flex-col items-center transform transition-all hover:scale-105" data-mood="growing">
                        <span class="text-3xl mb-1">🌱</span>
                        <span class="text-xs text-center text-gray-800">Growing</span>
                    </div>
                </div>
            </div>

            <!-- Diary entry textarea with floral border -->
            <div class="floral-border flex-grow mb-6 pt-6 pb-6">
                <textarea 
                    id="diaryText" 
                    class="w-full h-64 md:h-80 p-4 rounded-lg notebook-lines resize-none focus:outline-none focus:ring-2 focus:ring-pink-300 dark:focus:ring-pink-500 dark:bg-light-plum dark:text-gray-800 bg-white"
                    placeholder="Write your thoughts, dreams, and reflections here... Let your words bloom across these pages like wildflowers in a secret garden. What made you smile today? What stirred your soul? What gentle whispers did the universe share with you? This is your sacred space to capture the poetry of your everyday moments..."
                ></textarea>
            </div>

            <!-- Photo upload and save buttons -->
            <div class="flex justify-between items-center">
                <div class="photo-upload">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                    </svg>
                </div>
                
                <button class="save-btn px-8 py-3 rounded-full text-white font-medium flex items-center space-x-2">
                    <span>Save</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Month View -->
        <div class="px-4 py-6 min-h-screen flex flex-col hidden" id="monthView">
            <!-- Header with back button and month title -->
            <header class="flex justify-between items-center mb-6">
                <button class="w-10 h-10 rounded-full bg-lavender flex items-center justify-center" id="backFromMonthBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h2 class="text-xl font-semibold" id="monthViewTitle">May 2023</h2>
                <div class="w-10 h-10"></div> <!-- Empty div for flex spacing -->
            </header>

            <!-- Month calendar -->
            <div class="mb-6">
                <div class="calendar-container mb-2">
                    <div class="text-center text-sm font-medium text-gray-500">Sun</div>
                    <div class="text-center text-sm font-medium text-gray-500">Mon</div>
                    <div class="text-center text-sm font-medium text-gray-500">Tue</div>
                    <div class="text-center text-sm font-medium text-gray-500">Wed</div>
                    <div class="text-center text-sm font-medium text-gray-500">Thu</div>
                    <div class="text-center text-sm font-medium text-gray-500">Fri</div>
                    <div class="text-center text-sm font-medium text-gray-500">Sat</div>
                </div>
                
                <div class="calendar-container" id="monthCalendar">
                    <!-- Calendar dates will be generated by JavaScript -->
                </div>
            </div>

            <!-- Month entries -->
            <div>
                <h3 class="text-lg font-semibold text-purple-600 dark:text-purple-300 mb-4">This Month's Blooms</h3>
                <div class="space-y-4" id="monthEntries">
                    <!-- Entries will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Year in Bloom View -->
        <div class="px-4 py-6 min-h-screen flex flex-col hidden" id="yearView">
            <!-- Header with back button and title -->
            <header class="flex justify-between items-center mb-6">
                <button class="w-10 h-10 rounded-full bg-lavender flex items-center justify-center" id="backFromYearBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h2 class="text-xl font-semibold">Year in Bloom - 2023</h2>
                <div class="w-10 h-10"></div> <!-- Empty div for flex spacing -->
            </header>

            <!-- Full year view -->
            <div class="bloom-year grid-cols-3 gap-4">
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">January</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">❄️</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">12 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">February</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">💕</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">8 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">March</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🌱</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">15 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">April</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🌷</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">20 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">May</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🌸</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">10 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">June</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🌻</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">0 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">July</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🦋</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">0 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">August</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🌿</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">0 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">September</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🍃</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">0 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">October</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🍁</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">0 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">November</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">🍂</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">0 entries</p>
                </div>
                <div class="bloom-month p-4">
                    <h3 class="font-medium mb-2">December</h3>
                    <div class="flex justify-center">
                        <span class="text-3xl">✨</span>
                    </div>
                    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300">0 entries</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const toggleCircle = document.getElementById('toggleCircle');
        const pageContainer = document.getElementById('pageContainer');
        const homePage = document.getElementById('homePage');
        const entryPage = document.getElementById('entryPage');
        const monthView = document.getElementById('monthView');
        const yearView = document.getElementById('yearView');
        const newEntryBtn = document.getElementById('newEntryBtn');
        const backToHomeBtn = document.getElementById('backToHomeBtn');
        const backFromMonthBtn = document.getElementById('backFromMonthBtn');
        const backFromYearBtn = document.getElementById('backFromYearBtn');
        const entryDate = document.getElementById('entryDate');
        const monthViewTitle = document.getElementById('monthViewTitle');
        const calendar = document.getElementById('calendar');
        const monthCalendar = document.getElementById('monthCalendar');
        const monthEntries = document.getElementById('monthEntries');
        const petalsContainer = document.getElementById('petalsContainer');
        const moodEmojis = document.querySelectorAll('.mood-emoji');
        const saveBtn = document.querySelector('.save-btn');
        
        // Month names for reference
        const monthNames = [
            "January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"
        ];
        
        // Month emojis for reference
        const monthEmojis = ["❄️", "💕", "🌱", "🌷", "🌸", "🌻", "🦋", "🌿", "🍃", "🍁", "🍂", "✨"];
        
        // Theme toggle functionality
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                toggleCircle.textContent = '🌙';
            } else {
                toggleCircle.textContent = '🌞';
            }
        });
        
        // Navigation between pages
        newEntryBtn.addEventListener('click', () => {
            const today = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            entryDate.textContent = today.toLocaleDateString('en-US', options);
            
            navigateTo(entryPage);
        });
        
        backToHomeBtn.addEventListener('click', () => {
            navigateTo(homePage, true);
        });
        
        backFromMonthBtn.addEventListener('click', () => {
            navigateTo(homePage, true);
        });
        
        function showYearView() {
            navigateTo(yearView);
        }
        
        backFromYearBtn.addEventListener('click', () => {
            navigateTo(homePage, true);
        });
        
        function showMonthView(monthIndex) {
            // Set the month title
            const currentYear = new Date().getFullYear();
            monthViewTitle.textContent = `${monthNames[monthIndex]} ${currentYear}`;
            
            // Generate calendar for the selected month
            generateMonthCalendar(monthIndex);
            
            // Generate sample entries for the month
            generateMonthEntries(monthIndex);
            
            // Navigate to month view
            navigateTo(monthView);
        }
        
        function showDiaryEntry(date) {
            const dateObj = new Date(date);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            entryDate.textContent = dateObj.toLocaleDateString('en-US', options);
            
            navigateTo(entryPage);
        }
        
        // Helper function for navigation
        function navigateTo(page, isBackNavigation = false) {
            // Hide all pages
            const allPages = [homePage, entryPage, monthView, yearView];
            
            // Add appropriate animation class
            if (isBackNavigation) {
                pageContainer.classList.add('slide-right');
            } else {
                pageContainer.classList.add('slide-left');
            }
            
            // After animation completes, show the target page
            setTimeout(() => {
                allPages.forEach(p => p.classList.add('hidden'));
                page.classList.remove('hidden');
                pageContainer.classList.remove('slide-left', 'slide-right');
            }, 500);
        }
        
        // Mood emoji selection
        moodEmojis.forEach(emoji => {
            emoji.addEventListener('click', () => {
                moodEmojis.forEach(e => e.classList.remove('selected'));
                emoji.classList.add('selected');
                
                // Add a little animation
                emoji.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    emoji.style.transform = '';
                }, 200);
            });
        });
        
        // Save button animation
        saveBtn.addEventListener('click', () => {
            // Show success message or animation
            const savedMsg = document.createElement('div');
            savedMsg.textContent = 'Entry saved! ✨';
            savedMsg.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-100 text-green-800 px-4 py-2 rounded-full shadow-lg';
            document.body.appendChild(savedMsg);
            
            setTimeout(() => {
                savedMsg.style.opacity = '0';
                savedMsg.style.transition = 'opacity 0.5s ease';
                setTimeout(() => {
                    document.body.removeChild(savedMsg);
                }, 500);
            }, 2000);
        });
        
        // Generate calendar dates for home page
        function generateCalendar() {
            // Clear existing calendar
            calendar.innerHTML = '';
            
            // Get current month's days
            const currentDate = new Date();
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay.getDay(); i++) {
                const emptyCell = document.createElement('div');
                calendar.appendChild(emptyCell);
            }
            
            // Add days of the month
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dateCell = document.createElement('div');
                dateCell.className = 'date-circle mx-auto';
                
                // Highlight current day
                if (day === currentDate.getDate()) {
                    dateCell.classList.add('selected');
                }
                
                dateCell.textContent = day;
                dateCell.addEventListener('click', () => {
                    const selectedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
                    showDiaryEntry(selectedDate.toISOString().split('T')[0]);
                });
                
                calendar.appendChild(dateCell);
            }
        }
        
        // Generate calendar for a specific month
        function generateMonthCalendar(monthIndex) {
            // Clear existing calendar
            monthCalendar.innerHTML = '';
            
            const currentYear = new Date().getFullYear();
            const firstDay = new Date(currentYear, monthIndex, 1);
            const lastDay = new Date(currentYear, monthIndex + 1, 0);
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay.getDay(); i++) {
                const emptyCell = document.createElement('div');
                monthCalendar.appendChild(emptyCell);
            }
            
            // Add days of the month with floral styling
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dateCell = document.createElement('div');
                dateCell.className = 'date-circle mx-auto';
                
                // Add some random entries
                if (Math.random() > 0.7) {
                    dateCell.style.backgroundColor = 'rgba(255, 143, 171, 0.2)';
                    dateCell.style.border = '1px solid rgba(255, 143, 171, 0.5)';
                }
                
                dateCell.textContent = day;
                dateCell.addEventListener('click', () => {
                    const selectedDate = new Date(currentYear, monthIndex, day);
                    showDiaryEntry(selectedDate.toISOString().split('T')[0]);
                });
                
                monthCalendar.appendChild(dateCell);
            }
        }
        
        // Generate sample entries for a month
        function generateMonthEntries(monthIndex) {
            // Clear existing entries
            monthEntries.innerHTML = '';
            
            // Only generate entries for past months
            const currentMonth = new Date().getMonth();
            if (monthIndex > currentMonth) {
                const emptyMessage = document.createElement('p');
                emptyMessage.className = 'text-center text-gray-500 italic py-4';
                emptyMessage.textContent = 'No entries yet for this month. Your future blooms await!';
                monthEntries.appendChild(emptyMessage);
                return;
            }
            
            // Sample moods and entries
            const moods = ['🌸', '✨', '🦋', '💕', '🌱', '🌙', '☕', '🌊', '🌧️'];
            const entrySnippets = [
                "Today I felt so inspired after reading that book...",
                "Had a wonderful picnic in the park with friends...",
                "Feeling a bit down today, but writing helps...",
                "Started a new art project that I'm excited about...",
                "Spent the day baking cookies and watching movies...",
                "Went for a long walk and saw the most beautiful sunset..."
            ];
            
            // Generate random number of entries (1-5)
            const entryCount = Math.floor(Math.random() * 5) + 1;
            const currentYear = new Date().getFullYear();
            
            for (let i = 0; i < entryCount; i++) {
                const day = Math.floor(Math.random() * 28) + 1;
                const mood = moods[Math.floor(Math.random() * moods.length)];
                const snippet = entrySnippets[Math.floor(Math.random() * entrySnippets.length)];
                
                const entryDiv = document.createElement('div');
                entryDiv.className = 'diary-entry p-4';
                entryDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-medium">${monthNames[monthIndex]} ${day}, ${currentYear}</span>
                        <span class="text-xl">${mood}</span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 line-clamp-2">${snippet}</p>
                `;
                
                entryDiv.addEventListener('click', () => {
                    const date = new Date(currentYear, monthIndex, day);
                    showDiaryEntry(date.toISOString().split('T')[0]);
                });
                
                monthEntries.appendChild(entryDiv);
            }
        }
        
        // Create falling petals animation
        function createPetals() {
            const petalCount = 15;
            const petalTypes = [
                "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23FF8FAB' d='M12,1C8.1,1,5,4.1,5,8c0,4,7,15,7,15s7-11,7-15C19,4.1,15.9,1,12,1z'/%3E%3C/svg%3E",
                "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23E5CFF7' d='M12,1C8.1,1,5,4.1,5,8c0,4,7,15,7,15s7-11,7-15C19,4.1,15.9,1,12,1z'/%3E%3C/svg%3E",
                "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23A8D8B9' d='M12,1C8.1,1,5,4.1,5,8c0,4,7,15,7,15s7-11,7-15C19,4.1,15.9,1,12,1z'/%3E%3C/svg%3E"
            ];
            
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                
                // Random petal properties
                const size = Math.random() * 20 + 10; // 10-30px
                const posX = Math.random() * 100; // 0-100%
                const delay = Math.random() * 20; // 0-20s
                const duration = Math.random() * 10 + 10; // 10-20s
                const petalType = petalTypes[Math.floor(Math.random() * petalTypes.length)];
                
                // Apply styles
                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                petal.style.left = `${posX}%`;
                petal.style.backgroundImage = `url("${petalType}")`;
                petal.style.animationDuration = `${duration}s`;
                petal.style.animationDelay = `${delay}s`;
                
                petalsContainer.appendChild(petal);
            }
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            createPetals();
            
            // Add touch swipe functionality for mobile
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            document.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                
                // Right swipe (go back)
                if (touchEndX - touchStartX > swipeThreshold) {
                    if (!homePage.classList.contains('hidden')) {
                        // Already on home page, do nothing
                    } else if (!entryPage.classList.contains('hidden')) {
                        backToHomeBtn.click();
                    } else if (!monthView.classList.contains('hidden')) {
                        backFromMonthBtn.click();
                    } else if (!yearView.classList.contains('hidden')) {
                        backFromYearBtn.click();
                    }
                }
                
                // Left swipe (go forward)
                if (touchStartX - touchEndX > swipeThreshold) {
                    if (!homePage.classList.contains('hidden')) {
                        newEntryBtn.click();
                    }
                }
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95d17dc233dc2e9d',t:'MTc1MjE2NTUwNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
